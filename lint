#!/bin/bash

set -e
cd "$(dirname "$0")"


./ci/lint

folders=(
    #"src/lib8tion"
    #"src/platforms/stub"
    #"src/platforms/apollo3"  # clang-format breaks apollo3
    #"src/platforms/esp/8266"  # clang-format breaks esp8266
    #"src/platforms/arm" # clang-format breaks arm
)

for folder in "${folders[@]}"; do
    echo "Running clang-format on $folder"
    uv run ci/run-clang-format.py -i -r "$folder"
done
