<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FastLED: CRGBPalette16::operator=</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../fastled_logo.png" type="image/svg+xml" rel="shortcut icon" />
<link href="../../style.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">DoxygenAwesomeDarkModeToggle.init()</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">FastLED<span id="projectnumber">&#160;3.9.15</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d2/dc4/class_c_r_g_b_palette16_af88f34753deade80db71bbbb8e0f5cc6.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="contents">
<a id="af88f34753deade80db71bbbb8e0f5cc6" name="af88f34753deade80db71bbbb8e0f5cc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af88f34753deade80db71bbbb8e0f5cc6">&#9670;&#160;</a></span>operator=() <span class="overload">[6/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/dc4/class_c_r_g_b_palette16.html">CRGBPalette16</a> &amp; CRGBPalette16::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/dfb/colorutils_8h_a56cb3bce8ab7c903689192abedcc9699.html#a56cb3bce8ab7c903689192abedcc9699">TProgmemRGBGradientPalette_bytes</a></td>          <td class="paramname"><span class="paramname"><em>progpal</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a palette from a gradient palette in PROGMEM.    </p>
<p>Gradient palettes are loaded into CRGBPalettes in such a way that, if possible, every color represented in the gradient palette is also represented in the CRGBPalette. <br  />
</p>
<p>For example, consider a gradient palette that is all black except for a single, one-element-wide (1/256th!) spike of red in the middle: </p><div class="fragment"><div class="line">  0,   0,0,0</div>
<div class="line">124,   0,0,0</div>
<div class="line">125, 255,0,0  <span class="comment">// one 1/256th-palette-wide red stripe</span></div>
<div class="line">126,   0,0,0</div>
<div class="line">255,   0,0,0</div>
</div><!-- fragment --><p> A naive conversion of this 256-element palette to a 16-element palette might accidentally completely eliminate the red spike, rendering the palette completely black.</p>
<p>However, the conversions provided here would attempt to include a the red stripe in the output, more-or-less as faithfully as possible. So in this case, the resulting <a class="el" href="../../d2/dc4/class_c_r_g_b_palette16.html" title="RGB color palette with 16 discrete values.">CRGBPalette16</a> palette would have a red stripe in the middle which was 1/16th of a palette wide &ndash; the narrowest possible in a <a class="el" href="../../d2/dc4/class_c_r_g_b_palette16.html" title="RGB color palette with 16 discrete values.">CRGBPalette16</a>.</p>
<p>This means that the relative width of stripes in a <a class="el" href="../../d2/dc4/class_c_r_g_b_palette16.html" title="RGB color palette with 16 discrete values.">CRGBPalette16</a> will be, by definition, different from the widths in the gradient palette. This code attempts to preserve "all the colors", rather than the exact stripe widths at the expense of dropping some colors.    </p>

<p class="definition">Definition at line <a class="el" href="../../d1/dfb/colorutils_8h_source.html#l01215">1215</a> of file <a class="el" href="../../d1/dfb/colorutils_8h_source.html">colorutils.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1216</span>    {</div>
<div class="line"><span class="lineno"> 1217</span>        TRGBGradientPaletteEntryUnion* progent = (TRGBGradientPaletteEntryUnion*)(progpal);</div>
<div class="line"><span class="lineno"> 1218</span>        TRGBGradientPaletteEntryUnion u;</div>
<div class="line"><span class="lineno"> 1219</span> </div>
<div class="line"><span class="lineno"> 1220</span>        <span class="comment">// Count entries</span></div>
<div class="line"><span class="lineno"> 1221</span>        uint16_t count = 0;</div>
<div class="line"><span class="lineno"> 1222</span>        <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno"> 1223</span>            u.<a class="code hl_variable" href="../../d6/d39/group___palette_classes.html#a2d804a8e4f58e9aa7d65f456f69d904b">dword</a> = <a class="code hl_define" href="../../df/dab/fastled__progmem_8h_ac6a3d8446c38aabc9f0f55196a2eae3c.html#ac6a3d8446c38aabc9f0f55196a2eae3c">FL_PGM_READ_DWORD_NEAR</a>(progent + count);</div>
<div class="line"><span class="lineno"> 1224</span>            ++count;</div>
<div class="line"><span class="lineno"> 1225</span>        } <span class="keywordflow">while</span> ( u.index != 255);</div>
<div class="line"><span class="lineno"> 1226</span> </div>
<div class="line"><span class="lineno"> 1227</span>        int8_t lastSlotUsed = -1;</div>
<div class="line"><span class="lineno"> 1228</span> </div>
<div class="line"><span class="lineno"> 1229</span>        u.<a class="code hl_variable" href="../../d6/d39/group___palette_classes.html#a2d804a8e4f58e9aa7d65f456f69d904b">dword</a> = <a class="code hl_define" href="../../df/dab/fastled__progmem_8h_ac6a3d8446c38aabc9f0f55196a2eae3c.html#ac6a3d8446c38aabc9f0f55196a2eae3c">FL_PGM_READ_DWORD_NEAR</a>( progent);</div>
<div class="line"><span class="lineno"> 1230</span>        CRGB rgbstart( u.r, u.g, u.b);</div>
<div class="line"><span class="lineno"> 1231</span> </div>
<div class="line"><span class="lineno"> 1232</span>        <span class="keywordtype">int</span> indexstart = 0;</div>
<div class="line"><span class="lineno"> 1233</span>        uint8_t istart8 = 0;</div>
<div class="line"><span class="lineno"> 1234</span>        uint8_t iend8 = 0;</div>
<div class="line"><span class="lineno"> 1235</span>        <span class="keywordflow">while</span>( indexstart &lt; 255) {</div>
<div class="line"><span class="lineno"> 1236</span>            ++progent;</div>
<div class="line"><span class="lineno"> 1237</span>            u.<a class="code hl_variable" href="../../d6/d39/group___palette_classes.html#a2d804a8e4f58e9aa7d65f456f69d904b">dword</a> = <a class="code hl_define" href="../../df/dab/fastled__progmem_8h_ac6a3d8446c38aabc9f0f55196a2eae3c.html#ac6a3d8446c38aabc9f0f55196a2eae3c">FL_PGM_READ_DWORD_NEAR</a>( progent);</div>
<div class="line"><span class="lineno"> 1238</span>            <span class="keywordtype">int</span> indexend  = u.index;</div>
<div class="line"><span class="lineno"> 1239</span>            CRGB rgbend( u.r, u.g, u.b);</div>
<div class="line"><span class="lineno"> 1240</span>            istart8 = indexstart / 16;</div>
<div class="line"><span class="lineno"> 1241</span>            iend8   = indexend   / 16;</div>
<div class="line"><span class="lineno"> 1242</span>            <span class="keywordflow">if</span>( count &lt; 16) {</div>
<div class="line"><span class="lineno"> 1243</span>                <span class="keywordflow">if</span>( (istart8 &lt;= lastSlotUsed) &amp;&amp; (lastSlotUsed &lt; 15)) {</div>
<div class="line"><span class="lineno"> 1244</span>                    istart8 = lastSlotUsed + 1;</div>
<div class="line"><span class="lineno"> 1245</span>                    <span class="keywordflow">if</span>( iend8 &lt; istart8) {</div>
<div class="line"><span class="lineno"> 1246</span>                        iend8 = istart8;</div>
<div class="line"><span class="lineno"> 1247</span>                    }</div>
<div class="line"><span class="lineno"> 1248</span>                }</div>
<div class="line"><span class="lineno"> 1249</span>                lastSlotUsed = iend8;</div>
<div class="line"><span class="lineno"> 1250</span>            }</div>
<div class="line"><span class="lineno"> 1251</span>            <a class="code hl_function" href="../../da/de3/group___color_fills_ga6afaa1f712186a4b67445f69871cad88.html#ga6afaa1f712186a4b67445f69871cad88">fill_gradient_RGB</a>( &amp;(<a class="code hl_variable" href="../../d2/dc4/class_c_r_g_b_palette16_a0e7240b7d3dc5c79deceae9ff1d44f42.html#a0e7240b7d3dc5c79deceae9ff1d44f42">entries</a>[0]), istart8, rgbstart, iend8, rgbend);</div>
<div class="line"><span class="lineno"> 1252</span>            indexstart = indexend;</div>
<div class="line"><span class="lineno"> 1253</span>            rgbstart = rgbend;</div>
<div class="line"><span class="lineno"> 1254</span>        }</div>
<div class="line"><span class="lineno"> 1255</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><span class="lineno"> 1256</span>    }</div>
<div class="ttc" id="aclass_c_r_g_b_palette16_a0e7240b7d3dc5c79deceae9ff1d44f42_html_a0e7240b7d3dc5c79deceae9ff1d44f42"><div class="ttname"><a href="../../d2/dc4/class_c_r_g_b_palette16_a0e7240b7d3dc5c79deceae9ff1d44f42.html#a0e7240b7d3dc5c79deceae9ff1d44f42">CRGBPalette16::entries</a></div><div class="ttdeci">CRGB entries[16]</div><div class="ttdoc">the color entries that make up the palette</div><div class="ttdef"><b>Definition</b> <a href="../../d1/dfb/colorutils_8h_source.html#l01006">colorutils.h:1006</a></div></div>
<div class="ttc" id="afastled__progmem_8h_ac6a3d8446c38aabc9f0f55196a2eae3c_html_ac6a3d8446c38aabc9f0f55196a2eae3c"><div class="ttname"><a href="../../df/dab/fastled__progmem_8h_ac6a3d8446c38aabc9f0f55196a2eae3c.html#ac6a3d8446c38aabc9f0f55196a2eae3c">FL_PGM_READ_DWORD_NEAR</a></div><div class="ttdeci">#define FL_PGM_READ_DWORD_NEAR(x)</div><div class="ttdoc">Read a double word (32-bit) from PROGMEM memory.</div><div class="ttdef"><b>Definition</b> <a href="../../df/dab/fastled__progmem_8h_source.html#l00061">fastled_progmem.h:61</a></div></div>
<div class="ttc" id="agroup___color_fills_ga6afaa1f712186a4b67445f69871cad88_html_ga6afaa1f712186a4b67445f69871cad88"><div class="ttname"><a href="../../da/de3/group___color_fills_ga6afaa1f712186a4b67445f69871cad88.html#ga6afaa1f712186a4b67445f69871cad88">fill_gradient_RGB</a></div><div class="ttdeci">void fill_gradient_RGB(CRGB *leds, uint16_t startpos, CRGB startcolor, uint16_t endpos, CRGB endcolor)</div><div class="ttdoc">Fill a range of LEDs with a smooth RGB gradient between two RGB colors.</div><div class="ttdef"><b>Definition</b> <a href="../../da/d2d/colorutils_8cpp_source.html#l00145">colorutils.cpp:145</a></div></div>
<div class="ttc" id="agroup___palette_classes_html_a2d804a8e4f58e9aa7d65f456f69d904b"><div class="ttname"><a href="../../d6/d39/group___palette_classes.html#a2d804a8e4f58e9aa7d65f456f69d904b">TRGBGradientPaletteEntryUnion::dword</a></div><div class="ttdeci">uint32_t dword</div><div class="ttdoc">values as a packed 32-bit double word</div><div class="ttdef"><b>Definition</b> <a href="../../d1/dfb/colorutils_8h_source.html#l00684">colorutils.h:684</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/dfb/colorutils_8h_source.html#l01009">CRGBPalette16()</a>, <a class="el" href="../../d1/dfb/colorutils_8h_source.html#l00684">TRGBGradientPaletteEntryUnion::dword</a>, <a class="el" href="../../d1/dfb/colorutils_8h_source.html#l01006">entries</a>, <a class="el" href="../../da/d2d/colorutils_8cpp_source.html#l00145">fill_gradient_RGB()</a>, and <a class="el" href="../../df/dab/fastled__progmem_8h_source.html#l00061">FL_PGM_READ_DWORD_NEAR</a>.</p>
<div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/dc4/class_c_r_g_b_palette16_af88f34753deade80db71bbbb8e0f5cc6_af88f34753deade80db71bbbb8e0f5cc6_cgraph.svg" width="480" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.3-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d2/dc4/class_c_r_g_b_palette16.html">CRGBPalette16</a></li>
    <li class="footer">Generated on Thu Apr 10 2025 04:14:46 for FastLED by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
<!-- ... -->
</body>
</html>
