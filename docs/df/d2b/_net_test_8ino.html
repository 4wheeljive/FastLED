<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FastLED: /home/runner/work/FastLED/FastLED/examples/NetTest/NetTest.ino File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../fastled_logo.png" type="image/svg+xml" rel="shortcut icon" />
<link href="../../style.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">DoxygenAwesomeDarkModeToggle.init()</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">FastLED<span id="projectnumber">&#160;3.9.15</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('df/d2b/_net_test_8ino.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">NetTest.ino File Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Educational tutorial for FastLED WASM networking with explicit types. </p>
<dl class="section author"><dt>Author</dt><dd>FastLED Community</dd></dl>
<p>This tutorial demonstrates network functionality in FastLED WASM builds, specifically the fetch API for making HTTP requests. It shows two different approaches for handling asynchronous operations with EXPLICIT TYPES for educational clarity.</p>
<p>EDUCATIONAL FOCUS: All types are explicitly declared instead of using 'auto' to help you understand the FastLED type system and async patterns.</p>
<p>TWO ASYNC APPROACHES DEMONSTRATED:</p>
<p>APPROACH 1: Promise-based with .then() and .catch_() callbacks (JavaScript-like)</p><ul>
<li>Uses method chaining for async operations</li>
<li>Callbacks handle success and error cases</li>
<li>Non-blocking, event-driven pattern</li>
</ul>
<p>APPROACH 2: <a class="el" href="../../d4/d36/namespacefl_a422168cc1b8dc2e0a10dfedf921ac003.html#a422168cc1b8dc2e0a10dfedf921ac003" title="Synchronously wait for a promise to complete (ONLY safe in top-level contexts)">fl::await_top_level()</a> pattern for synchronous-style async code</p><ul>
<li>Uses explicit types: <a class="el" href="../../d1/d21/classfl_1_1promise.html" title="Promise class that provides fluent .then() and .catch_() semantics This is a lightweight wrapper arou...">fl::promise&lt;T&gt;</a>, <a class="el" href="../../dc/d6d/classfl_1_1result.html" title="Result type for promise operations.">fl::result&lt;T&gt;</a>, <a class="el" href="../../d4/d36/namespacefl_a451542d0bf4d13f0bc00e055c18e6726.html#a451542d0bf4d13f0bc00e055c18e6726">fl::optional&lt;T&gt;</a></li>
<li>Blocks until async operation completes (only safe in Arduino <a class="el" href="../../d5/dec/_net_test_real_8h_afe461d27b9c48d5921c00d521181f12f.html#afe461d27b9c48d5921c00d521181f12f">loop()</a>!)</li>
<li>More traditional imperative programming style</li>
</ul>
<p>The example toggles between these approaches every 10 seconds to demonstrate both patterns working with the same underlying fetch API.</p>
<p>FASTLED ASYNC TYPE SYSTEM TUTORIAL:</p>
<p><a class="el" href="../../db/d42/struct_key.html">Key</a> Types You'll Learn:</p><ul>
<li><a class="el" href="../../d1/d21/classfl_1_1promise.html" title="Promise class that provides fluent .then() and .catch_() semantics This is a lightweight wrapper arou...">fl::promise&lt;T&gt;</a> - Represents a future value of type T</li>
<li><a class="el" href="../../dc/d6d/classfl_1_1result.html" title="Result type for promise operations.">fl::result&lt;T&gt;</a> - Wraps either a successful T value or an <a class="el" href="../../da/d46/structfl_1_1_error.html" title="Error type for promises.">Error</a></li>
<li><a class="el" href="../../d5/d4b/classfl_1_1response.html" title="HTTP response class (unified interface)">fl::response</a> - HTTP response with status, headers, and body</li>
<li><a class="el" href="../../d2/d49/classfl_1_1fetch__options.html" title="Fetch options builder (fluent interface)">fl::fetch_options</a> - Configuration object for HTTP requests</li>
<li><a class="el" href="../../d4/d36/namespacefl_a451542d0bf4d13f0bc00e055c18e6726.html#a451542d0bf4d13f0bc00e055c18e6726">fl::optional&lt;T&gt;</a> - May or may not contain a value of type T</li>
<li><a class="el" href="../../da/d46/structfl_1_1_error.html" title="Error type for promises.">fl::Error</a> - <a class="el" href="../../da/d46/structfl_1_1_error.html" title="Error type for promises.">Error</a> information with message and context</li>
</ul>
<p>NEW FETCH API STRUCTURE:</p><ul>
<li><a class="el" href="../../d2/d49/classfl_1_1fetch__options.html" title="Fetch options builder (fluent interface)">fetch_options</a> is a pure data configuration object</li>
<li><a class="el" href="../../d4/d36/namespacefl_af42605edbdf3f35d997e6da5be2c02a5.html#af42605edbdf3f35d997e6da5be2c02a5" title="HTTP GET request.">fetch_get()</a> returns <a class="el" href="../../d1/d21/classfl_1_1promise.html" title="Promise class that provides fluent .then() and .catch_() semantics This is a lightweight wrapper arou...">fl::promise&lt;fl::response&gt;</a> (not auto!)</li>
<li>Promises can be handled with .then()/.catch_() OR <a class="el" href="../../d4/d36/namespacefl_a422168cc1b8dc2e0a10dfedf921ac003.html#a422168cc1b8dc2e0a10dfedf921ac003" title="Synchronously wait for a promise to complete (ONLY safe in top-level contexts)">await_top_level()</a></li>
<li>All async operations integrate with FastLED's engine automatically</li>
</ul>
<p>EXPLICIT TYPE EXAMPLES:</p>
<p>Promise-based approach: </p><div class="fragment"><div class="line"><a class="code hl_class" href="../../d1/d21/classfl_1_1promise.html">fl::promise&lt;fl::response&gt;</a> promise = <a class="code hl_function" href="../../d4/d36/namespacefl_af42605edbdf3f35d997e6da5be2c02a5.html#af42605edbdf3f35d997e6da5be2c02a5">fl::fetch_get</a>(<span class="stringliteral">&quot;http://example.com&quot;</span>);</div>
<div class="line">promise.<a class="code hl_function" href="../../d1/d21/classfl_1_1promise_ae10342734273b14abe3ba660f1a713ce.html#ae10342734273b14abe3ba660f1a713ce">then</a>([](<span class="keyword">const</span> <a class="code hl_class" href="../../d5/d4b/classfl_1_1response.html">fl::response</a>&amp; response) { <span class="comment">/* handle success *&amp;zwj;/ })</span></div>
<div class="line"><span class="comment">       .catch_([](const fl::Error&amp; error) { /* handle error *&amp;zwj;/ });</span></div>
<div class="ttc" id="aclassfl_1_1promise_ae10342734273b14abe3ba660f1a713ce_html_ae10342734273b14abe3ba660f1a713ce"><div class="ttname"><a href="../../d1/d21/classfl_1_1promise_ae10342734273b14abe3ba660f1a713ce.html#ae10342734273b14abe3ba660f1a713ce">fl::promise::then</a></div><div class="ttdeci">promise &amp; then(fl::function&lt; void(const T &amp;)&gt; callback)</div><div class="ttdoc">Register success callback - returns reference for chaining.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d17/promise_8h_source.html#l00129">promise.h:129</a></div></div>
<div class="ttc" id="aclassfl_1_1promise_html"><div class="ttname"><a href="../../d1/d21/classfl_1_1promise.html">fl::promise</a></div><div class="ttdoc">Promise class that provides fluent .then() and .catch_() semantics This is a lightweight wrapper arou...</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d17/promise_8h_source.html#l00072">promise.h:72</a></div></div>
<div class="ttc" id="aclassfl_1_1response_html"><div class="ttname"><a href="../../d5/d4b/classfl_1_1response.html">fl::response</a></div><div class="ttdoc">HTTP response class (unified interface)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d6a/fetch_8h_source.html#l00083">fetch.h:83</a></div></div>
<div class="ttc" id="anamespacefl_af42605edbdf3f35d997e6da5be2c02a5_html_af42605edbdf3f35d997e6da5be2c02a5"><div class="ttname"><a href="../../d4/d36/namespacefl_af42605edbdf3f35d997e6da5be2c02a5.html#af42605edbdf3f35d997e6da5be2c02a5">fl::fetch_get</a></div><div class="ttdeci">fl::promise&lt; response &gt; fetch_get(const fl::string &amp;url, const fetch_options &amp;request)</div><div class="ttdoc">HTTP GET request.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/ddd/fetch_8cpp_source.html#l00180">fetch.cpp:180</a></div></div>
</div><!-- fragment --><p>Await-based approach: </p><div class="fragment"><div class="line"><a class="code hl_class" href="../../d1/d21/classfl_1_1promise.html">fl::promise&lt;fl::response&gt;</a> promise = <a class="code hl_function" href="../../d4/d36/namespacefl_af42605edbdf3f35d997e6da5be2c02a5.html#af42605edbdf3f35d997e6da5be2c02a5">fl::fetch_get</a>(<span class="stringliteral">&quot;http://example.com&quot;</span>);</div>
<div class="line"><a class="code hl_class" href="../../dc/d6d/classfl_1_1result.html">fl::result&lt;fl::response&gt;</a> result = <a class="code hl_function" href="../../d4/d36/namespacefl_a422168cc1b8dc2e0a10dfedf921ac003.html#a422168cc1b8dc2e0a10dfedf921ac003">fl::await_top_level</a>(promise);</div>
<div class="line"><span class="keywordflow">if</span> (result.<a class="code hl_function" href="../../dc/d6d/classfl_1_1result_ac2b044bd270c831d02dd736571640bac.html#ac2b044bd270c831d02dd736571640bac">ok</a>()) {</div>
<div class="line">    <span class="keyword">const</span> <a class="code hl_class" href="../../d5/d4b/classfl_1_1response.html">fl::response</a>&amp; response = result.<a class="code hl_function" href="../../dc/d6d/classfl_1_1result_a8c36716d4a5e21c2b42707c839305328.html#a8c36716d4a5e21c2b42707c839305328">value</a>();</div>
<div class="line">    <span class="comment">// Use response...</span></div>
<div class="line">}</div>
<div class="ttc" id="aclassfl_1_1result_a8c36716d4a5e21c2b42707c839305328_html_a8c36716d4a5e21c2b42707c839305328"><div class="ttname"><a href="../../dc/d6d/classfl_1_1result_a8c36716d4a5e21c2b42707c839305328.html#a8c36716d4a5e21c2b42707c839305328">fl::result::value</a></div><div class="ttdeci">const T &amp; value() const</div><div class="ttdoc">Get the success value (const)</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d93/promise__result_8h_source.html#l00076">promise_result.h:76</a></div></div>
<div class="ttc" id="aclassfl_1_1result_ac2b044bd270c831d02dd736571640bac_html_ac2b044bd270c831d02dd736571640bac"><div class="ttname"><a href="../../dc/d6d/classfl_1_1result_ac2b044bd270c831d02dd736571640bac.html#ac2b044bd270c831d02dd736571640bac">fl::result::ok</a></div><div class="ttdeci">bool ok() const</div><div class="ttdoc">Check if the result is successful.</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d93/promise__result_8h_source.html#l00060">promise_result.h:60</a></div></div>
<div class="ttc" id="aclassfl_1_1result_html"><div class="ttname"><a href="../../dc/d6d/classfl_1_1result.html">fl::result</a></div><div class="ttdoc">Result type for promise operations.</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d93/promise__result_8h_source.html#l00040">promise_result.h:40</a></div></div>
<div class="ttc" id="anamespacefl_a422168cc1b8dc2e0a10dfedf921ac003_html_a422168cc1b8dc2e0a10dfedf921ac003"><div class="ttname"><a href="../../d4/d36/namespacefl_a422168cc1b8dc2e0a10dfedf921ac003.html#a422168cc1b8dc2e0a10dfedf921ac003">fl::await_top_level</a></div><div class="ttdeci">fl::result&lt; T &gt; await_top_level(fl::promise&lt; T &gt; promise)</div><div class="ttdoc">Synchronously wait for a promise to complete (ONLY safe in top-level contexts)</div><div class="ttdef"><b>Definition</b> <a href="../../df/d4c/src_2fl_2async_8h_source.html#l00175">async.h:175</a></div></div>
</div><!-- fragment --><p>TO RUN THIS TUTORIAL:</p>
<p>For WASM (recommended for networking):</p><ol type="1">
<li>Install FastLED: <code>pip install fastled</code></li>
<li>cd into this examples directory <br  />
</li>
<li>Run: <code>fastled <a class="el" href="../../df/d2b/_net_test_8ino.html" title="Educational tutorial for FastLED WASM networking with explicit types.">NetTest.ino</a></code></li>
<li>Open the web page and check browser console for detailed fetch results</li>
</ol>
<p>For other platforms: Uses mock responses for testing the API without network connectivity </p>

<p class="definition">Definition in file <a class="el" href="../../df/d2b/_net_test_8ino_source.html">NetTest.ino</a>.</p>
</div><div class="textblock"><code>#include &quot;<a class="el" href="../../d1/dbc/sketch__macros_8h_source.html">fl/sketch_macros.h</a>&quot;</code><br />
<code>#include &quot;platforms/sketch_fake.hpp&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Include dependency graph for NetTest.ino:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d27/_net_test_8ino__incl.svg" width="374" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<p><a href="../../df/d2b/_net_test_8ino_source.html">Go to the source code of this file.</a></p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.3-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_d28a4824dc47e487b107a5db32ef43c4.html">examples</a></li><li class="navelem"><a class="el" href="../../dir_3216768c000eb6a02d8eb3ad785affc6.html">NetTest</a></li><li class="navelem"><a class="el" href="../../df/d2b/_net_test_8ino.html">NetTest.ino</a></li>
    <li class="footer">Generated on Sat Sep 20 2025 20:42:20 for FastLED by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
<!-- ... -->
</body>
</html>
